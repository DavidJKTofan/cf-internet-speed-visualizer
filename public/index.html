<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Network Quality Monitoring</title>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
		<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="header">
			<div class="header-content">
				<div class="logo">
					<div class="logo-icon">N</div>
					<h1>Network Quality Monitoring</h1>
				</div>
				<div class="header-meta">
					<div class="status-badge" id="statusBadge">
						<span class="status-dot"></span>
						<span id="statusText">Live</span>
					</div>
					<div class="last-updated" id="lastUpdated"></div>
				</div>
			</div>
		</div>

		<div class="container">
			<div id="error" class="error" style="display: none">
				<span class="error-icon">âš </span>
				<span id="errorText"></span>
			</div>

			<div id="loading" class="loading">
				<div class="spinner"></div>
				<div class="loading-text">Loading network data...</div>
			</div>

			<div id="emptyState" class="empty-state" style="display: none">
				<div class="empty-icon">ðŸ“Š</div>
				<div class="empty-title">No Data Available</div>
				<div class="empty-message">
					Run the local script to start collecting metrics. Data will appear here once measurements are uploaded.
				</div>
			</div>

			<div id="content" style="display: none">
				<div class="controls">
					<div class="control-group">
						<label class="control-label" for="timeRange">Time Range</label>
						<select id="timeRange">
							<option value="24">Last 24 Hours</option>
							<option value="168">Last 7 Days</option>
							<option value="720">Last 30 Days</option>
							<option value="all" selected>All Time</option>
						</select>
					</div>
				</div>

				<div class="highlights-grid" id="highlightsGrid"></div>

				<div class="stats-grid" id="statsGrid"></div>

				<div class="charts-grid">
					<div class="chart-container">
						<div class="chart-header">
							<div class="chart-title-container">
								<h2 class="chart-title">Throughput Analysis</h2>
								<div class="tooltip-trigger" id="throughput-tooltip-trigger">?</div>
							</div>
							<p class="chart-description">Download and upload rates from NetworkQuality and Speedtest.</p>
						</div>
						<canvas id="speedChart"></canvas>
					</div>

					<div class="chart-container">
						<div class="chart-header">
							<div class="chart-title-container">
								<h2 class="chart-title">Latency Distribution</h2>
								<div class="tooltip-trigger" id="latency-tooltip-trigger">?</div>
							</div>
							<p class="chart-description">Round-trip and TTFB latency to key infrastructure endpoints.</p>
						</div>
						<canvas id="latencyChart"></canvas>
					</div>

					<div class="chart-container">
						<div class="chart-header">
							<div class="chart-title-container">
								<h2 class="chart-title">Network Responsiveness</h2>
								<div class="tooltip-trigger" id="responsiveness-tooltip-trigger">?</div>
							</div>
							<p class="chart-description">Apple's RPM metric for real-world application performance.</p>
						</div>
						<canvas id="responsivenessChart"></canvas>
					</div>

					<div class="chart-container">
						<div class="chart-header">
							<div class="chart-title-container">
								<h2 class="chart-title">Packet Loss Rate</h2>
								<div class="tooltip-trigger" id="packet-loss-tooltip-trigger">?</div>
							</div>
							<p class="chart-description">Percentage of ICMP packets lost during transmission.</p>
						</div>
						<canvas id="packetLossChart"></canvas>
					</div>

					<div class="chart-container">
						<div class="chart-header">
							<div class="chart-title-container">
								<h2 class="chart-title">DNS Resolution</h2>
								<div class="tooltip-trigger" id="dns-tooltip-trigger">?</div>
							</div>
							<p class="chart-description">Time to resolve domain names to IP addresses for key domains.</p>
						</div>
						<canvas id="dnsChart"></canvas>
					</div>
				</div>
			</div>
		</div>

		<div class="footer">
			<div class="footer-content">
				<div class="footer-disclaimer">
					Metrics are collected from local measurements and may not reflect actual ISP guarantees. Data is for informational purposes only.
				</div>
			</div>
		</div>
		<script src="scripts.js"></script>
	</body>
</html>